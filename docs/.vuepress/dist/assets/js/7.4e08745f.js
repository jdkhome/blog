(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{187:function(e,a,n){"use strict";n.r(a);var t=n(0),r=Object(t.a)({},function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"docker控制台日志清理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker控制台日志清理","aria-hidden":"true"}},[e._v("#")]),e._v(" docker控制台日志清理")]),e._v(" "),n("h2",{attrs:{id:"起因"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#起因","aria-hidden":"true"}},[e._v("#")]),e._v(" 起因")]),e._v(" "),n("p",[e._v("docker运行的服务，输出到控制台的日志(不是你挂载出来的日志文件)是不会自动清理的，日积月累会占用大量的磁盘空间。")]),e._v(" "),n("h2",{attrs:{id:"脚本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#脚本","aria-hidden":"true"}},[e._v("#")]),e._v(" 脚本")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('#!/bin/sh  \n\necho "==================== start clean docker containers logs =========================="  \n\nlogs=$(find /var/lib/docker/containers/ -name *-json.log)  \n\nfor log in $logs  \n        do  \n                echo "clean logs : $log"  \n                cat /dev/null > $log  \n        done  \n\n\necho "==================== end clean docker containers logs   =========================="\n\n')])])])])},[],!1,null,null,null);a.default=r.exports}}]);